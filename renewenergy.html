<!DOCTYPE html>
<html>
<head>
    <title>Renewable energy production Florida</title>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/new-main.css">
    <meta property="og:url" content="https://davednguyen.github.io/FESC-Redesign/index.html" />
    <meta property="og:type" content="" />
    <meta property="og:title" content="FESC" />
    <meta property="og:description" content="FESC Bringing Energy Solutions to Florida" />
    <meta property="og:image" content="https://davednguyen.github.io/FESC-Redesign/images/header_logo.png" />
    <meta name="twitter:title" content="FESC">
    <meta name="twitter:description" content="FESC Bringing Energy Solutions to Florida">
    <meta name="twitter:image" content="https://davednguyen.github.io/FESC-Redesign/images/header_logo.png">
    <meta name="twitter:card" content="summary_large_image">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      //new data to get from EIA API
      function getData()
        {
            console.log("reached the function");
            // Create a new request object
            let request = new XMLHttpRequest()     
            //**********homework 10*****************************
            //Documentation for the "FL Renewable Energy Production" endpoint is here:
            let requestUrl ="https://api.eia.gov/series/?api_key=3f166358025607d0b027843ee391b318&series_id=SEDS.REPRB.FL.A"
            // Open a connection
            request.open('GET', requestUrl, true)
            // Callback for when the request completes
            request.onload = function(){
            console.log("Raw respones: ", request.response)
            console.log("response from server is: ", JSON.parse(request.response))
            testData = JSON.parse(request.response);
            console.log(testData.series[0].data)
            let fresdb = testData.series[0].data;            ;            
            drawChart(fresdb);
            let datatable = fresdb;
            datatable.shift();
            drawTable(datatable);
            // Callback for when there's an error
            request.error = function(err)
            {
            console.log("error is: ", err)
            }
            }
            // Send the request to the specified URL
            request.send()           
        }    
    </script>    
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(getData);
      function drawChart(renewalenergyData) {
        renewalenergyData.unshift(['Year','BTU']);
        var data = google.visualization.arrayToDataTable(renewalenergyData);
        var options = {
          title: 'Years, in BTU',
          legend: { position: 'none' },
        };
        var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));
        chart.draw(data, options);
       }     
     </script>
     <script type="text/javascript">
        google.charts.load('current', {'packages':['table']});
        google.charts.setOnLoadCallback(getData);  
        function drawTable(renewalenergyData) {         
          var data = new google.visualization.DataTable();
          data.addColumn('string', 'year');
          data.addColumn('number', 'BTU');
          data.addRows(renewalenergyData);  
          var table = new google.visualization.Table(document.getElementById('table_div'));  
          table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
        }
  </script>
</head>
<body class="container">
        <ul class="nav">
                <li class="nav-item"><a href="index.html">Main</a></li>
                <li class="nav-item"><a href="home.html">Home</a></li>
                <li class="nav-item"><a href="about.html">About us</a></li>
                <li class="nav-item"><a href="fl-energy-industry.html">Energy Industry</a></li>
                <li class="nav-item"><a class="active" href="#">Renewable energy</a></li>
                <li class="nav-item"><a href="design.html">Design ideas</a></li>
                <li class="nav-item"><a href="totalenergy.html">Total Consumption</a></li>
        </ul>
        <div id="renewenergy">
                <button id="displayButton" v-on:click="displayChart">Hide renew chart</button>
                <button id="displayTableButton" v-on:click="displayTable">Hide table</button>
                <button id="displayAllButton" v-on:click="displayAll">Hide all chart</button>
        </div>
        <div id="renewalenergypage" class="renewalenergypage">
            <h4>Chart to show the renewable energy production in Florida since 1960 to 2015. This reflects how important of energy for the state in the past seventy five years.</h1>
            <P>(source: https://www.eia.gov/opendata/qb.php?sdid=SEDS.REPRB.FL.A
                    14:12:24 GMT-0700 (PDT)
                    Source: U.S. Energy Information Administration)</P>
            <section class="mainSection">
                    <div id="chart_div" style="width: 800px; height: 500px;"></div>
            </section>
        </div>
        <div id="tableChart" class="tableChart">
                <div id="table_div"></div>
        </div>
    <footer>
        <p>Copyright Â© 2008-2015 Florida Energy Systems Consortium.</p>   
        <a class="twitter-share-button" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdavednguyen.github.io%2FFESC-Redesign%2Findex.html"> Tweet</a>
        <div class="fb-share-button" data-href="https://davednguyen.github.io/FESC-Redesign/index.html" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdavednguyen.github.io%2FFESC-Redesign%2Findex.html&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
    </footer>
    <script src="scripts/renewenergy.js"></script>
</body>
</html>